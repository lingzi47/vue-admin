(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a92c958a"],{"07e0":function(e,t,a){},4156:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"topserch"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入商品名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入设备编号"},model:{value:e.deviceCode,callback:function(t){e.deviceCode=t},expression:"deviceCode"}})],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchData}},[e._v("搜索")])],1)],1)],1),a("div",{staticClass:"page-content"},[a("el-table",{staticClass:"tab-bar",attrs:{data:e.list,border:"",stripe:""},on:{"selection-change":e.getSelection}},[a("el-table-column",{attrs:{label:"选中",type:"selection",align:"center",width:"50"}}),a("el-table-column",{attrs:{prop:"orderCode",label:"订单编号",align:"center"}}),a("el-table-column",{attrs:{prop:"orderDeviceCode",label:"设备编号",align:"center"}}),a("el-table-column",{attrs:{prop:"orderDeviceName",label:"设备名称",align:"center"}}),a("el-table-column",{attrs:{prop:"stockId",label:"货道编号(行/列)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.stockId)+"("+e._s(t.row.stockRow)+" /\n            "+e._s(t.row.stockColumn)+")")])]}}])}),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称(id)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.goodsName)+"("+e._s(t.row.goodsId)+")")])]}}])}),a("el-table-column",{attrs:{prop:"goodsImg",label:"商品图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"table-img",attrs:{src:e.row.goodsImg,width:"60px"}})]}}])}),a("el-table-column",{attrs:{prop:"salePrice",label:"销售价格",align:"center"}}),a("el-table-column",{attrs:{prop:"costPrice",label:"成本价格",align:"center"}}),a("el-table-column",{attrs:{prop:"payPrice",label:"交易价格",align:"center"}}),a("el-table-column",{attrs:{prop:"payStatus",label:"支付状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.payStatus?a("el-link",{attrs:{type:"warning"}},[e._v("待支付")]):e._e(),2==t.row.payStatus?a("el-link",{attrs:{type:"success"}},[e._v("已支付")]):e._e(),3==t.row.payStatus?a("el-link",{attrs:{type:"danger"}},[e._v("支付异常")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"refundStatus",label:"是否退款",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.refundStatus?a("el-link",{attrs:{type:"success"}},[e._v("否("+e._s(t.row.refundPrice)+")")]):e._e(),2==t.row.refundStatus?a("el-link",{attrs:{type:"danger"}},[e._v("是("+e._s(t.row.refundPrice)+")")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"orderCreateTime",label:"创建时间",align:"center"}}),a("el-table-column",{attrs:{label:"出库状态(记录)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.out_sta?a("el-link",[e._v(e._s(t.row.out_sta)+"("+e._s(t.row.out_log)+")")]):a("el-link",[e._v("无")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.payStatus&&1==t.row.refundStatus?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",underline:!1},on:{click:function(a){e.deleteData(t.row)}}},[e._v("退款")]):e._e(),2==t.row.refundStatus?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",underline:!1}},[e._v("退款完成")]):e._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},l=[],r=(a("6d67"),a("6b54"),a("87b3"),a("7f7f"),a("96cf"),a("3b8d")),o=a("fd03"),i={components:{},data:function(){return{name:"",deviceCode:"",time:"",page:{currentPage:1,pageSize:10,total:0},list:[]}},watch:{time:function(e){null==e&&(this.time=[])}},created:function(){this.getList()},methods:{deleteData:function(e){var t=this;console.log(e);var a={id:e.id};this.$confirm("是否退款？","提示",{type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Object(o["lb"])(a).then(function(e){200==e.data.code?t.$message.success("成功"):t.$message.error(e.data.msg),t.getList()});case 1:case"end":return e.stop()}},e,this)}))).catch(function(){})},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.page.pageSize=e,this.getList()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.page.currentPage=e,this.getList()},getList:function(){var e=this,t={page:this.page.currentPage,limit:this.page.pageSize,name:this.name,deviceCode:this.deviceCode,created_at_start:this.time[0],created_at_end:this.time[1]};Object(o["W"])(t).then(function(t){console.log(t.data.data),e.page.total=t.data.data.total,e.list=t.data.data.list})},searchData:function(){var e=this,t={page:1,limit:this.page.pageSize,name:this.name,deviceCode:this.deviceCode,created_at_start:this.time[0],created_at_end:this.time[1]};Object(o["W"])(t).then(function(t){console.log(t.data.data),e.page.total=t.data.data.total,e.list=t.data.data.list})},getSelection:function(e){var t=e.map(function(e){return e.id}).toString();console.log(t)}}},s=i,c=(a("5ab8"),a("2877")),u=Object(c["a"])(s,n,l,!1,null,"2854b43b",null);u.options.__file="index.vue";t["default"]=u.exports},"5ab8":function(e,t,a){"use strict";var n=a("07e0"),l=a.n(n);l.a}}]);