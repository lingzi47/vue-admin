(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19839d66"],{"5c03":function(t,e,a){},"67ff":function(t,e,a){"use strict";var r=a("5c03"),l=a.n(r);l.a},a21f:function(t,e,a){var r=a("584a"),l=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return l.stringify.apply(l,arguments)}},ab43:function(t,e,a){"use strict";var r=a("e582"),l=a.n(r);l.a},e582:function(t,e,a){},f2dd:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"topserch"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"品类名称"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入品类名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请选择状态"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"下架",value:2}})],1)],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("重置")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchData}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.addData()}}},[t._v("新增")])],1)],1)],1),a("div",{staticClass:"page-content"},[a("el-table",{staticClass:"tab-bar",attrs:{data:t.list,border:"",stripe:""},on:{"selection-change":t.getSelection}},[a("el-table-column",{attrs:{label:"选中",type:"selection",align:"center",width:"50"}}),a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((t.page.currentPage-1)*t.page.pageSize+e.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"商品品类",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"商品数量",align:"center"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-link",{attrs:{type:"success"}},[t._v("上架")]):t._e(),2==e.row.status?a("el-link",{attrs:{type:"danger"}},[t._v("下架")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"details",label:"品类详情",align:"center"}}),a("el-table-column",{attrs:{prop:"created_at",label:"创建日期",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",underline:!1},on:{click:function(a){t.editData(2,e.row)}}},[t._v("修改")]),a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",underline:!1},on:{click:function(a){t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("add-data",{ref:"addData"})],1)])},l=[],s=(a("96cf"),a("3b8d")),n=a("f499"),i=a.n(n),o=(a("6d67"),a("6b54"),a("87b3"),a("7f7f"),a("cadf"),a("551c"),a("097d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:1==t.type?"新增":"编辑",visible:t.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.close}},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"auto"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品类名称",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入品类名称"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品类状态",prop:"status"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请选择状态"},model:{value:t.ruleForm.status,callback:function(e){t.$set(t.ruleForm,"status",e)},expression:"ruleForm.status"}},[a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"下架",value:2}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入排序"},model:{value:t.ruleForm.sort,callback:function(e){t.$set(t.ruleForm,"sort",e)},expression:"ruleForm.sort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"品类详情",prop:"details"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入广告详情"},model:{value:t.ruleForm.details,callback:function(e){t.$set(t.ruleForm,"details",e)},expression:"ruleForm.details"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")])],1)],1)],1)}),c=[],u=(a("55dd"),a("fd03")),d={name:"AddDialog",components:{},data:function(){return{type:"",img:"",dialogVisible:!1,ruleForm:{name:"",details:"",status:"",sort:"",id:""},FormSearch:{},rules:{name:[{required:!0,message:"请输入品类名称",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],details:[{required:!0,message:"请输入品类详情",trigger:"blur"}]}}},watch:{},created:function(){this.FormSearch=JSON.parse(i()(this.ruleForm))},mounted:function(){},methods:{show:function(t,e){this.type=t,console.log(e),this.dialogVisible=!0,this.ruleForm=e},close:function(){this.dialogVisible=!1,this.ruleForm=JSON.parse(i()(this.FormSearch))},submitForm:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(a){var r,l,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}1==t.type?(r={name:t.ruleForm.name,details:t.ruleForm.details,sort:t.ruleForm.sort,status:t.ruleForm.status},Object(u["ub"])(r).then(function(e){200==e.data.code?t.$message.success("新增成功"):t.$message.error(e.data.msg),t.close(),t.isDisable=!1,t.$parent.getList()})):(l={name:t.ruleForm.name,details:t.ruleForm.details,sort:t.ruleForm.sort,status:t.ruleForm.status},s=t.ruleForm.id,Object(u["wb"])(l,s).then(function(e){200==e.data.code?t.$message.success("修改成功"):t.$message.error(e.data.msg),t.close(),t.isDisable=!1,t.$parent.getList()})),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("ab43"),a("2877")),g=Object(m["a"])(p,o,c,!1,null,null,null);g.options.__file="addData.vue";var f=g.exports,h={components:{addData:f},data:function(){return{name:"",status:"",page:{currentPage:1,pageSize:10,total:0},list:[]}},created:function(){this.getList()},methods:{refresh:function(){this.name="",this.status=""},getList:function(){var t=this,e={page:this.page.currentPage,limit:this.page.pageSize,name:this.name,status:this.status};Object(u["xb"])(e).then(function(e){console.log(e.data.data),t.page.total=e.data.data.total,t.list=e.data.data.list})},getSelection:function(t){var e=t.map(function(t){return t.id}).toString();console.log(e)},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.page.pageSize=t,this.getList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.page.currentPage=t,this.getList()},addData:function(t){this.$refs.addData.show(1,{})},searchData:function(){var t=this,e={page:1,limit:this.page.pageSize,name:this.name,status:this.status};Object(u["xb"])(e).then(function(e){console.log(e.data.data),t.page.total=e.data.data.total,t.list=e.data.data.list})},editData:function(t,e){this.$refs.addData.show(2,JSON.parse(i()(e)))},deleteData:function(t){var e=this,a=t.id;this.$confirm("是否删除此信息？","提示",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(u["vb"])(a).then(function(t){200==t.data.code?e.$message.success("删除成功"):e.$message.error(t.data.msg),e.getList()});case 1:case"end":return t.stop()}},t,this)}))).catch(function(){})}}},b=h,v=(a("67ff"),Object(m["a"])(b,r,l,!1,null,"7c704814",null));v.options.__file="index.vue";e["default"]=v.exports},f499:function(t,e,a){t.exports=a("a21f")}}]);